# 日報(2020-09-18)

起きたら11でしたわはっはっは。

最近悪夢で何度も起きるからかな。

---

**うんち**

**17:05**

親と揉めてこの時間まで何もできなかった。まあむしょくのぼくがわるいんですけどね。

## 今日やる予定

### 確実にやるやつ

* クリーンアーキテクチャ

* Re:CommonLisp

### できたらやるよ

* 図書館本

* Goでつくるインタプリタ

## やったこと

### クリーンアーキテクチャ

ここまで日数経過した上に何度かすっぽかしてるので、割とやる気がなくなってる。

#### LSP:リスコフの置換原則

> 型システムなどにおける型の派生に関する議論において、派生元の型（基底型）と派生先の型（派生型）の間に成り立っていなければならない規則性

> すなわち、置換可能性 (substitutability ) ということである。S が T の派生型であれば、プログラム内で T 型のオブジェクトが使われている箇所は全て S 型のオブジェクトで置換可能であれ、ということで、この原則が損なわれなければ、プログラムの型システムに照らした妥当性は損なわれない、ということである。

> 引用元: [リスコフの置換原則 - Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%AA%E3%82%B9%E3%82%B3%E3%83%95%E3%81%AE%E7%BD%AE%E6%8F%9B%E5%8E%9F%E5%89%87)

これの有名な違反令がある。

##### 正方形・長方形問題

正方形は辺の長さがすべて同じであるのに対して、

長方形は異なる可能性ある。

それを前提に、例えば長方形にsetH(heightを設定)とsetW(width)という関数があり、

それに対し、長方形を継承した正方形はsetSideという辺すべてを設定する関数を持つ。

ここからが問題で、正方形は長方形のsetH,setWを使えるため、同じような振る舞いを期待された場合(正方形.setH(2), 正方形.setW(5))、

おかしなことになってしまう。

こうなると呼び出し側でifやらなんやらで処理が必要だが、それは置換不可能である事実に変わりない。

### Re:Commonlisp

できませんでした。結局サンプル見つからんし、他にできること見つからんかった。

私はカス。

というわけで(?)、XMLパーサを書くことにした。

\<hoge\ id="foo">unchi\</hoge\>みたいなやつを

```
(defstruct tag
	(name "" :type string)
	(attr '() :type list)
	(children '() :type list))
```

nameには"hoge"が入って、

attrには'((:|id| . "foo"))

childrenには'("unchi")がはいる。

childrenのリストには文字列が入ったり、タグオブジェクトが入ったりする。

と計画したところで眠いので寝る。

### 自立支援延長

なんか必要ないって言われた。コロナかなんかの影響で自動延長になったらしい。

## まだやってない

### 期限系

* 健康保険料(10月分) -> until 10/10(おそらく)

* 本返却 -> until 9/29

### TODO

1. 借りた本4冊, md-parser

2. 読書(クリーンアーキテクチャ), novelist-narrow, simple-db写経, ブログシステム改修,  読書(なろう)

3. cl-db-index
