# 日報(2020-09-04)

やばいやばい午前中カフェでいろいろ考えつつ読書ノルマやろーって考えてたけどすっかり予定書くの忘れてたし、

午後は午後で途中からハイキューみてて全く活動してない。

## 今日やる予定

ないっす。

## やったこと

### わるだくみ

カフェで考えてたプラン等。

基本的にプログラミングってライフハックだと思うんだけど、

そうなると自分が今一番時間かけてるコンテンツってなんだろうってとこから考えてみると、

これなんですよね。マークダウン形式のファイルに書き書きすること。次点で読書かな。

本当は1~2はプログラミングじゃないとあかんと思うけどまあ三番目だし許して。

そうなると今後はマークダウンか、HTMLのパースやら構文の解析やらして

作業の効率化だったり、分析して可視化して生産性を上げる...はないので自己満足するくらいのことはしないといけない。

#### マークダウンパーサ

マークダウン形式のファイルコンテンツを一般的なそれに落とし込むやつではなくて、

どちらかといえば極めて私に都合の良い形で出力したりするやつ。

Emacs Lispで書くかもしれない。

#### 日報テンプレート生成スクリプト強化

もっと便利にするかもしれない。

#### rails-se機能追加

放置してたけどそろそろ触るかもしれない。う〜んどうだろう。

### 休憩

なんかやる気消えたので今日は活動しないかもしれない。

[20:22:11]

体が動くようになったのでやれるとこまでやっていき。

### イシューからはじめよ

#### イシュー分析

イシューを見極めることも大事で、そうするための作業が以下の二つ。

* ストーリーライン

* 絵コンテ

両者とも、検討進行に伴い更新していく必要がある。

##### ストーリー組み立て

イシュー起点でストーリーを組み立てる手法がある。

よくあるアプローチとして、

1. データ収集

2. イシューについて考える

3. 並べて、ストーリーを組む

...適当すぎんか？その並べたりする際にものすごい知識だったりが必要だと思うんだが。

なお、この工程にも二つの作業があり、それが下記二つだ。

* イシューの分解

* ストーリーとして再構築

###### イシューの分解

イシューとは大きな問いらしいので、

答えを出せるサイズにまで分解していく。通称サブイシュー。

この際、ダブりや漏れもなく、意味のある塊にすることがポイント。

卵に喩えてあるがなかなかわかりやすかった。

卵の健康への影響を調べる際に、黄身と白身でわける。当然だけど、ハッシュみたいな切り分け方したり、

スライスしても意味がない。言葉では簡単だが、実際に別のことで応用するのは難しそう。

また、売り上げの切り分け方のたとえもなるほどとなった。

要は数式として切り分けてやればいいのだ。売り上げだってやろうと思えば一つあたりの売値*個数に分けることができる。

会計的に言えばそこから製造間接費だのなんだのをもってくればOK...だと思う。

###### イシュー分解の型

* Where

領域。

* What

強み。

* How

どうするか。

---

今日はここまで。

### クリーンアーキテクチャ

#### オブジェクト思考プログラミング

オブジェクト指向とは。

データと関数の組み合わせでは100点の解答ではないらしい。

hoge.fuga()とfuga(hoge)が異なるように扱われているが、それは馬鹿馬鹿しいことだという。

現実世界のモデル化という答えは先程の解答よりマシ。

しかし、定義が雑すぎてよくわからないのでこれも否。

ならばカプセル化、継承、ポリモーフィズムと使って説明する場合はどうか。

これらについてメモしていく。

#### カプセル化

別にOO言語でなくともできるし、さらにいえばJava,C++等のOO言語が強力なカプセル化に依存はしてない。

むしろ、Javaはヘッダがない分C言語と比べて弱体化しており、C++もヘッダファイルでメンバ変数を宣言する必要が発生したため、

メンバー名の変更ごとにコンパイルが壊れる可能性が発生し、無事弱体化してしまっている。

#### 継承

これもC言語がすでにやっている。

だってインスタンスは継承元と最初の二つのインスタンスフィールドの順序が一緒だったら、

キャストでなりすませるもんねーと書いてるように見えるが、

確かにコードを見る限りJavaやらC#に関して言えばC言語よりごまかしのうまくて便利関数が多いだけにすぎない。

#### ポリモーフィズム

Cのgetchar()はどのデバイスで読み取るかわからないまま利用できる時点ですでにポリモーフィズムである。

ポリモーフィズムは関数のポインタの応用で、OO言語は関数ポインタの危険性を排除しているため、

そういった意味では使う意味があるといえるらしい。

#### ポリモーフィズムのパワー

デバイス非依存のコードが実現する。

磁気テープだろうがカードデッキからの入力だろうが、ソースコードは変わらない、

というよりガラッと変わってもらうと現代人としてはかなり困る。

それをプラグインアーキテクチャというらしい。OOならそれをどこでも利用できるらしい。

#### 依存関係逆転

> DIPを一言でまとめれば、「抽象に依存せよ」ということらしいです。

> 引用元: [依存関係逆転の原則の重要性について](https://medium.com/eureka-engineering/go-dependency-inversion-principle-8ffaf7854a55)

なるほど?

この章の後半から書いてる内容がよく理解できなかった。

追加学習が必要だ。

## まだやってない

1. 読書(なろう), 読書(クリーンアーキテクチャ)

2. novelist-narrow, simple-db写経, ブログシステム改修

3. cl-db-index
